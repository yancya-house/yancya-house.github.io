<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>やんちゃハウス</title>
    <meta name="description" content="やんちゃハウス公式サイト">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <h1>ようこそ！やんちゃハウスへ</h1>
    <marquee scrollamount="8">工事中</marquee>
    <p>あなたは <span id="counter">0000000000</span> 人目のお客様です</p>
    <script>
      const accessCounterUrl = 'https://us-central1-yancya-house.cloudfunctions.net/accessCounter';
      fetch(accessCounterUrl, { mode: 'cors', credentials: 'include' }).then(res => {
        res.json().then(res => {
          document.querySelector('#counter').innerHTML = `${res.count}`.padStart(10, '0');
        });
      }).catch(err => {
        console.error(JSON.stringify(err));
      });
    </script>
  </body>
</html>
